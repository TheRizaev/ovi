{% extends 'base.html' %}

{% block title %}–ü–∞—Ä—Ç–Ω—ë—Ä—ã - OVI{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="page-header-content">
        <h1 class="page-title">–ù–∞—à–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—ã</h1>
        <p class="page-subtitle">–ú—ã —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–µ–º —Å –≤–µ–¥—É—â–∏–º–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏, –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è–º–∏ –∏ –∞–ø—Ç–µ–∫–∞–º–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —É—Å–ª—É–≥</p>
    </div>
</section>

<!-- Filter and Partners Section -->
<section class="filter-section">
    <div class="section-container">
        <div class="filter-tabs animate-on-scroll">
            <button class="filter-tab {% if current_category == 'all' %}active{% endif %}" data-category="all">–í—Å–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã</button>
            {% get_partner_categories as partner_categories %}
            {% for cat_key, cat_name in partner_categories %}
                <button class="filter-tab {% if current_category == cat_key %}active{% endif %}" data-category="{{ cat_key }}">{{ cat_name }}</button>
            {% endfor %}
        </div>

        <div class="partners-grid">
            {% for partner in partners %}
                <div class="partner-card animate-on-scroll" data-category="{{ partner.category }}">
                    <div class="partner-logo">
                        {% if partner.logo %}
                            <img src="{{ partner.logo.url }}" alt="{{ partner.name }}">
                        {% else %}
                            {{ partner.name|truncatewords:1 }}
                        {% endif %}
                    </div>
                    <h3 class="partner-name">{{ partner.name }}</h3>
                    <span class="partner-category">{{ partner.get_category_display }}</span>
                    <p class="partner-description">{{ partner.description|truncatewords:20 }}</p>
                    {{ partner.services|services_list }}
                    <div class="partner-contact">{{ partner.contact_info }}</div>
                </div>
            {% empty %}
                <p>–ü–∞—Ä—Ç–Ω–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Statistics Section -->
<section class="stats-section">
    <div class="section-container">
        <div class="stats-grid">
            {% for number, label in "25+,–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –∫–ª–∏–Ω–∏–∫|10+,–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–π|50+,–ê–ø—Ç–µ–∫|200+,–í—Ä–∞—á–µ–π-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤"|split:"|" %}
                {% with parts=number|split:"," %}
                <div class="stat-item animate-on-scroll">
                    <span class="stat-number">{{ parts.0 }}</span>
                    <span class="stat-label">{{ parts.1 }}</span>
                </div>
                {% endwith %}
            {% endfor %}
        </div>
    </div>
</section>

<!-- Benefits Section -->
<section class="benefits-section">
    <div class="section-container">
        <h2 class="section-title animate-on-scroll">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ —Å OVI</h2>
        <p class="section-subtitle animate-on-scroll">–ü–æ—á–µ–º—É –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –≤—ã–±–∏—Ä–∞—é—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ —Å –Ω–∞–º–∏</p>
        <div class="benefits-grid">
            {% for icon, title, desc in "üìà,–†–æ—Å—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã,–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –Ω–∞—à—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å –±–æ–ª—å—à–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π|üíª,–¶–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤,–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—å—é –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏|ü§ù,–ù–∞–¥–µ–∂–Ω–æ–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ,–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ –∏ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã"|split:"|" %}
                {% with parts=icon|split:"," %}
                <div class="benefit-card animate-on-scroll">
                    <div class="benefit-icon">{{ parts.0 }}</div>
                    <h3 class="benefit-title">{{ parts.1 }}</h3>
                    <p class="benefit-description">{{ parts.2 }}</p>
                </div>
                {% endwith %}
            {% endfor %}
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="section-container">
        <h2 class="cta-title animate-on-scroll">–•–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å –Ω–∞—à–∏–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º?</h2>
        <p class="cta-subtitle animate-on-scroll">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ OVI –∏ —Ä–∞—Å—à–∏—Ä—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–≤–æ–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</p>
        <div class="animate-on-scroll">
            <a href="{% url 'work' %}" class="btn btn-primary">
                <span>ü§ù</span> –°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º
            </a>
            <a href="{% url 'contacts' %}" class="btn btn-secondary">
                <span>üìû</span> –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Filter functionality
    const filterTabs = document.querySelectorAll('.filter-tab');
    
    filterTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const category = tab.dataset.category;
            const url = new URL(window.location);
            
            if (category === 'all') {
                url.searchParams.delete('category');
            } else {
                url.searchParams.set('category', category);
            }
            
            window.location = url;
        });
    });
});
</script>
{% endblock %}